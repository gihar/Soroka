# üéØ –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 17 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–§–∞–∑—ã 1 –∏ 2)

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π](#–æ–±–∑–æ—Ä-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö-—É–ª—É—á—à–µ–Ω–∏–π)
2. [–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏](#1-–ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞-—Ç–µ–∫—Å—Ç–∞-—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏)
3. [–ê–Ω–∞–ª–∏–∑ –∏ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏](#2-–∞–Ω–∞–ª–∏–∑-–∏-–æ–±–æ–≥–∞—â–µ–Ω–∏–µ-–¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏)
4. [–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤](#3-–≤–∞–ª–∏–¥–∞—Ü–∏—è-–∫–∞—á–µ—Å—Ç–≤–∞-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤)
5. [–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è](#4-–¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
6. [–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–µ –ø—Ä–æ–º–ø—Ç—ã](#5-–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–µ-–ø—Ä–æ–º–ø—Ç—ã)
7. [Chain-of-Thought –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á](#6-chain-of-thought-–¥–ª—è-–¥–ª–∏–Ω–Ω—ã—Ö-–≤—Å—Ç—Ä–µ—á)
8. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
9. [–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã](#–æ–∂–∏–¥–∞–µ–º—ã–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)

---

## –û–±–∑–æ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –≤—Å—Ç—Ä–µ—á:

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –§–∞–π–ª—ã |
|-----------|--------|-----------|-------|
| üìù –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –í—ã—Å–æ–∫–∏–π | `src/services/transcription_preprocessor.py` |
| üë• –ê–Ω–∞–ª–∏–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –í—ã—Å–æ–∫–∏–π | `src/services/diarization_analyzer.py` |
| ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –í—ã—Å–æ–∫–∏–π | `src/services/protocol_validator.py` |
| üîÑ –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –°—Ä–µ–¥–Ω–∏–π | `llm_providers.py` (—Ñ—É–Ω–∫—Ü–∏—è `generate_protocol_two_stage`) |
| üéØ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –°—Ä–µ–¥–Ω–∏–π | `src/services/meeting_classifier.py`, `src/prompts/` |

### ‚è≥ –í –ø–ª–∞–Ω–∞—Ö

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|-----------|--------|-----------|
| üß† Chain-of-Thought | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –°—Ä–µ–¥–Ω–∏–π | `src/services/segmentation_service.py`, `llm_providers.py` (—Ñ—É–Ω–∫—Ü–∏—è `generate_protocol_chain_of_thought`) |
| üí¨ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å | –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ | –ù–∏–∑–∫–∏–π | - |
| üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ | –ù–∏–∑–∫–∏–π | - |

---

## 1. –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

### –û–ø–∏—Å–∞–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ LLM.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**–£–¥–∞–ª–µ–Ω–∏–µ —à—É–º–∞:**
- –ú–µ–∂–¥–æ–º–µ—Ç–∏—è: "—ç-—ç", "–º-–º", "–Ω—É –≤–æ—Ç", "–∫–∞–∫ –±—ã"
- –ü–æ–≤—Ç–æ—Ä—ã —Å–ª–æ–≤ (3+ —Ä–∞–∑–∞ –ø–æ–¥—Ä—è–¥)
- –í–≤–æ–¥–Ω—ã–µ —Ñ—Ä–∞–∑—ã –±–µ–∑ —Å–º—ã—Å–ª–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

**–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã ‚Üí –æ–¥–∏–Ω –ø—Ä–æ–±–µ–ª
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ ‚Üí –æ–¥–Ω–∞ —Ç–æ—á–∫–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è (–ø—Ä–æ–±–µ–ª—ã –ø–æ—Å–ª–µ –∑–Ω–∞–∫–æ–≤)

**–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞:**
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–ø–ª–∏–∫ –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
- –û—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–ª–æ–≤–∞—Ö

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from src.services.transcription_preprocessor import get_preprocessor

preprocessor = get_preprocessor(language="ru")

result = preprocessor.preprocess(
    text="–ù—É –≤–æ—Ç —ç-—ç –º—ã –¥–æ–ª–∂–Ω—ã –¥–æ–ª–∂–Ω—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ...",
    formatted_transcript=formatted_transcript
)

print(result['cleaned_text'])
# "–º—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ."

print(result['statistics'])
# {'reduction_percent': 35.2, 'fillers_removed': 3, ...}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞**: 20-40% –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∏—Å—Ö–æ–¥–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- **–£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏**: –¢–µ–∫—Å—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
- **–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ LLM**: –ú–µ–Ω—å—à–µ —à—É–º–∞ ‚Üí –ª—É—á—à–µ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

---

## 2. –ê–Ω–∞–ª–∏–∑ –∏ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏

### –û–ø–∏—Å–∞–Ω–∏–µ

–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Å–∞–π—Ç–æ–≤ –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö –≤—Å—Ç—Ä–µ—á–∏.

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 2.1 –ê–Ω–∞–ª–∏–∑ –≤–∫–ª–∞–¥–∞ —Å–ø–∏–∫–µ—Ä–æ–≤

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è:
- –í—Ä–µ–º—è –≥–æ–≤–æ—Ä–µ–Ω–∏—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫
- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ–ø–ª–∏–∫–∏

#### 2.2 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ —Å–ø–∏–∫–µ—Ä–∞:
- **–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä** - –≤–µ–¥–µ—Ç –≤—Å—Ç—Ä–µ—á—É, –∑–∞–¥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã
- **–î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π** - –≥–æ–≤–æ—Ä–∏—Ç –±–æ–ª—å—à–µ –¥—Ä—É–≥–∏—Ö (>40%)
- **–≠–∫—Å–ø–µ—Ä—Ç** - –¥–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –æ–±—ä—è—Å–Ω—è–µ—Ç
- **–£—á–∞—Å—Ç–Ω–∏–∫** - –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ
- **–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å** - —Ä–µ–¥–∫–æ –≥–æ–≤–æ—Ä–∏—Ç (<5%)

#### 2.3 –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

–ê–Ω–∞–ª–∏–∑ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–ø–∏–∫–µ—Ä–∞–º–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–º–µ–Ω–æ–≤ —Ä–µ–ø–ª–∏–∫–∞–º–∏
- –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (0-1)
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∞—Ä

#### 2.4 –§–∞–∑—ã –≤—Å—Ç—Ä–µ—á–∏

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã —Å –∞–Ω–∞–ª–∏–∑–æ–º –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã.

#### 2.5 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è:
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ–≤–µ—â–∞–Ω–∏–µ
- –î–µ–ª–æ–≤—ã–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã
- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ª–µ–∫—Ü–∏—è
- –ë—Ä–µ–π–Ω—àÔøΩÔøΩ–æ—Ä–º
- –û—Ç—á–µ—Ç–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from src.services.diarization_analyzer import diarization_analyzer

analysis = diarization_analyzer.enrich_diarization_data(
    diarization_data=diarization_data,
    transcription=transcription
)

print(f"–¢–∏–ø –≤—Å—Ç—Ä–µ—á–∏: {analysis.meeting_type}")
print(f"–î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π —Å–ø–∏–∫–µ—Ä: {analysis.dominant_speaker_id}")
print(f"–ë–∞–ª–∞–Ω—Å —É—á–∞—Å—Ç–∏—è: {analysis.participation_balance}")

# –û–±–æ–≥–∞—â–µ–Ω–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è LLM
enriched_summary = analysis.get_enriched_summary()
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **+40%** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞—Ö
- **–¢–æ—á–Ω–æ–µ** –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞ –∑–∞–¥–∞—á–∏
- **–î–µ—Ç–∞–ª—å–Ω—ã–π** –∞–Ω–∞–ª–∏–∑ –≤–∫–ª–∞–¥–∞ –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞

---

## 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤

### –û–ø–∏—Å–∞–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

#### 3.1 –ü–æ–ª–Ω–æ—Ç–∞ (Completeness)

- –í—Å–µ –ª–∏ –ø–æ–ª—è —à–∞–±–ª–æ–Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã?
- –ù–µ—Ç –ª–∏ –ø—É—Å—Ç—ã—Ö –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö "–ù–µ —É–∫–∞–∑–∞–Ω–æ" –ø–æ–ª–µ–π?
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è?

#### 3.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (Structure)

- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å–ø–∏—Å–∫–∏ (—Å –¥–µ—Ñ–∏—Å–∞–º–∏)?
- –ù–µ—Ç –ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä –≤ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø–æ–ª—è—Ö?
- –ù–µ—Ç –ª–∏ –Ω—É–º–µ—Ä–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –¥–µ—Ñ–∏—Å–æ–≤?

#### 3.3 –§–∞–∫—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (Factual Accuracy)

- –í—Å–µ –ª–∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏?
- –ù–µ—Ç –ª–∏ –≤—ã–¥—É–º–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏?
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ª–∏ —Ñ–∞–∫—Ç—ã –∏—Å—Ö–æ–¥–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É?

#### 3.4 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ (Diarization Usage)

- –£–ø–æ–º—è–Ω—É—Ç—ã –ª–∏ —Å–ø–∏–∫–µ—Ä—ã –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ?
- –£–∫–∞–∑–∞–Ω—ã –ª–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞ –∑–∞–¥–∞—á–∏?
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–æ–ª—è—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤?

### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```python
from src.services.protocol_validator import protocol_validator

validation = protocol_validator.calculate_quality_score(
    protocol=llm_result,
    transcription=transcription,
    template_variables=template_vars,
    diarization_data=diarization_data
)

print(f"–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: {validation.overall_score}")  # 0.85
print(f"–ü–æ–ª–Ω–æ—Ç–∞: {validation.completeness_score}")  # 0.90
print(f"–°—Ç—Ä—É–∫—Ç—É—Ä–∞: {validation.structure_score}")   # 0.95
print(f"–¢–æ—á–Ω–æ—Å—Ç—å: {validation.factual_accuracy_score}")  # 0.78
print(f"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏: {validation.diarization_usage_score}")  # 0.75

if not validation.is_valid:
    print("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:", validation.warnings)
    suggestions = protocol_validator.suggest_improvements(validation)
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è** –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
- **–†–∞–Ω–Ω–µ–µ** –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ** —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

---

## 4. –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

### –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ—Ç–æ–∫–æ–ª –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –¥–≤–∞ —ç—Ç–∞–ø–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–ª–Ω–æ—Ç—ã.

### –≠—Ç–∞–ø—ã

#### –≠—Ç–∞–ø 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–¶–µ–ª—å**: –ò–∑–≤–ª–µ—á—å –≤—Å—é –∫–ª—é—á–µ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –±–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏.

**–ó–∞–¥–∞—á–∏**:
- –ù–∞–π—Ç–∏ –≤—Å–µ —Ñ–∞–∫—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è —à–∞–±–ª–æ–Ω–∞
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫
- –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–µ—Ä–≤–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

#### –≠—Ç–∞–ø 2: –†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏–µ

**–¶–µ–ª—å**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–ª—É—á—à–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ —ç—Ç–∞–ø–∞.

**–ü—Ä–æ–≤–µ—Ä–∫–∏**:
1. **–ü–æ–ª–Ω–æ—Ç–∞** - –≤—Å–µ –ª–∏ –≤–∞–∂–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–æ?
2. **–¢–æ—á–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ –∏–ª–∏ –¥–æ–º—ã—Å–ª–æ–≤?
3. **–î–∏–∞—Ä–∏–∑–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ø–∏–∫–µ—Ä–∞—Ö?
4. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω —Ç–µ–∫—Å—Ç?

**–î–µ–π—Å—Ç–≤–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–µ–π
- –£–ª—É—á—à–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from llm_providers import generate_protocol_two_stage, llm_manager

# –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è OpenAI)
protocol = await generate_protocol_two_stage(
    manager=llm_manager,
    provider_name="openai",
    transcription=transcription,
    template_variables=template_vars,
    diarization_data=diarization_data,
    diarization_analysis=analysis.to_dict(),
    openai_model_key="gpt-4o"
)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```python
# config.py
two_stage_processing: bool = True  # –í–∫–ª—é—á–∏—Ç—å –¥–≤—É—Ö—ç—Ç–∞–ø–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **+30%** —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **+25%** –ø–æ–ª–Ω–æ—Ç—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (–º–µ–Ω—å—à–µ –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π)
- **-50%** "–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π" –∏ –≤—ã–¥—É–º–∞–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤

---

## 5. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º—ã–µ –ø—Ä–æ–º–ø—Ç—ã

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –≤—Å—Ç—Ä–µ—á–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏.

### –¢–∏–ø—ã –≤—Å—Ç—Ä–µ—á

#### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ–≤–µ—â–∞–Ω–∏–µ

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: IT-—Ç–µ—Ä–º–∏–Ω—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ–¥, API

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞**:
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
- –§–∏–∫—Å–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –∏ –∏—Ö –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

#### üíº –î–µ–ª–æ–≤—ã–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –§–∏–Ω–∞–Ω—Å—ã, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –ø—Ä–æ–¥–∞–∂–∏

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞**:
- –¢–æ—á–Ω–æ—Å—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ü–∏—Ñ—Ä
- –§–∏–∫—Å–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ —Å—Ç–æ—Ä–æ–Ω
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∏ –æ–≥–æ–≤–æ—Ä–æ–∫
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫

#### üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –û–¥–∏–Ω –¥–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π —Å–ø–∏–∫–µ—Ä, –æ–±—ä—è—Å–Ω–µ–Ω–∏—è

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞**:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ç–µ–º–∞–º
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏–π
- –§–∏–∫—Å–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

#### üí° –ë—Ä–µ–π–Ω—àÔøΩÔøΩ–æ—Ä–º

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–¥–µ–π, –≤–æ–ø—Ä–æ—Å—ã, –≤–∞—Ä–∏–∞–Ω—Ç—ã

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞**:
- –§–∏–∫—Å–∞—Ü–∏—è –≤—Å–µ—Ö –∏–¥–µ–π –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –∏–¥–µ–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–∞–∑–≤–∏—Ç–∏—è –∏–¥–µ–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞

#### üìä –û—Ç—á–µ—Ç–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏**: –ú–µ—Ç—Ä–∏–∫–∏, KPI, —Å—Ç–∞—Ç—É—Å—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞**:
- –¢–æ—á–Ω–æ—Å—Ç—å –º–µ—Ç—Ä–∏–∫ –∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- –§–∏–∫—Å–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –í—ã–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–µ—Ä–æ–≤ –∏ —Ä–∏—Å–∫–æ–≤

### –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- –ö–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- –ê–Ω–∞–ª–∏–∑–∞ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ (–±–∞–ª–∞–Ω—Å —É—á–∞—Å—Ç–∏—è, –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
- –ü–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Ä–µ—á–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```python
# config.py
meeting_type_detection: bool = True  # –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π** –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- **+20%** —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤—Å—Ç—Ä–µ—á
- **–õ—É—á—à–µ–µ** –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏

---

## 6. Chain-of-Thought –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á

### –û–ø–∏—Å–∞–Ω–∏–µ

–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á (>30 –º–∏–Ω—É—Ç), –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–ª–Ω–æ—Ç—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.

### –ü—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–∞

–î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- **–ü–æ—Ç–µ—Ä—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: LLM –º–æ–∂–µ—Ç —É–ø—É—Å–∫–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–º–∞ —Ç–µ–∫—Å—Ç–∞
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è**: –°–ª–æ–∂–Ω–æ —É–¥–µ—Ä–∂–∞—Ç—å –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ "–ø–æ–ª–µ –∑—Ä–µ–Ω–∏—è"
- **–û—à–∏–±–∫–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏**: –í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ —Å–∂–∞—Ç–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –†–µ—à–µ–Ω–∏–µ: Chain-of-Thought

**–≠—Ç–∞–ø 1: –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è**
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–µ–≥–º–µ–Ω—Ç—ã –ø–æ 5-7 –º–∏–Ω—É—Ç
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏:
  - **–ü–æ —Å–ø–∏–∫–µ—Ä–∞–º** (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏—è) - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ —Å–º–µ–Ω–µ –¥–æ–º–∏–Ω–∏—Ä—É—é—â–µ–≥–æ —Å–ø–∏–∫–µ—Ä–∞
  - **–ü–æ –≤—Ä–µ–º–µ–Ω–∏** (–µ—Å–ª–∏ –Ω–µ—Ç –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏) - —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã —Å —É—á–µ—Ç–æ–º –≥—Ä–∞–Ω–∏—Ü –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

**–≠—Ç–∞–ø 2: –ê–Ω–∞–ª–∏–∑ —Å–µ–≥–º–µ–Ω—Ç–æ–≤**
- –ö–∞–∂–¥—ã–π —Å–µ–≥–º–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- LLM –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç: "—ç—Ç–æ —á–∞—Å—Ç—å X –∏–∑ Y"

**–≠—Ç–∞–ø 3: –°–∏–Ω—Ç–µ–∑**
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–∏—Ö –ø—É–Ω–∫—Ç–æ–≤
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫
- –°–æ–∑–¥–∞–µ—Ç—Å—è —Å–≤—è–∑–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ

### –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è

#### –ü–æ —Å–ø–∏–∫–µ—Ä–∞–º (—Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π)

```python
from src.services.segmentation_service import segmentation_service

segments = segmentation_service.segment_by_speakers(
    diarization_data=diarization_data,
    transcription=transcription,
    max_segment_duration=600.0  # 10 –º–∏–Ω—É—Ç –º–∞–∫—Å
)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ —Å–º–µ–Ω–µ —Å–ø–∏–∫–µ—Ä–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–æ–≤
- –õ—É—á—à–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–æ–ª–µ–π

#### –ü–æ –≤—Ä–µ–º–µ–Ω–∏ (–±–µ–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏)

```python
segments = segmentation_service.segment_by_time(
    transcription=transcription,
    diarization_data=None,
    target_minutes=5
)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏
- –ü–æ–∏—Å–∫ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü (–∫–æ–Ω–µ—Ü –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)

### –ü—Ä–æ–º–ø—Ç—ã Chain-of-Thought

#### –ü—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–µ–≥–º–µ–Ω—Ç–∞

```
CHAIN-OF-THOUGHT: –ê–ù–ê–õ–ò–ó –°–ï–ì–ú–ï–ù–¢–ê X –ò–ó Y

–°–ï–ì–ú–ï–ù–¢ –¢–†–ê–ù–°–ö–†–ò–ü–¶–ò–ò:
[–¢–µ–∫—Å—Ç —Å–µ–≥–º–µ–Ω—Ç–∞]

–ó–ê–î–ê–ß–ê:
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–æ—Ç —Å–µ–≥–º–µ–Ω—Ç –≤—Å—Ç—Ä–µ—á–∏ –∏ –∏–∑–≤–ª–µ–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
[–°–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π —à–∞–±–ª–æ–Ω–∞]

–í–ê–ñ–ù–û:
- –≠—Ç–æ —Å–µ–≥–º–µ–Ω—Ç X –∏–∑ Y —á–∞—Å—Ç–µ–π –≤—Å—Ç—Ä–µ—á–∏
- –ò–∑–≤–ª–µ–∫–∞–π –¢–û–õ–¨–ö–û –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –≠–¢–û–ì–û —Å–µ–≥–º–µ–Ω—Ç–∞
- –ï—Å–ª–∏ –≤ —Å–µ–≥–º–µ–Ω—Ç–µ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ - –ø–∏—à–∏ "–ù–µ—Ç –≤ —ç—Ç–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ"
- –°–æ—Ö—Ä–∞–Ω—è–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: —ç—Ç–æ —á–∞—Å—Ç—å –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω–æ–π –≤—Å—Ç—Ä–µ—á–∏
```

#### –ü—Ä–æ–º–ø—Ç –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞

```
CHAIN-OF-THOUGHT: –°–ò–ù–¢–ï–ó –§–ò–ù–ê–õ–¨–ù–û–ì–û –ü–†–û–¢–û–ö–û–õ–ê

–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–ù–ê–õ–ò–ó–ê –°–ï–ì–ú–ï–ù–¢–û–í:
[–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–∞–∂–¥–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—É]

–ê–ù–ê–õ–ò–ó –£–ß–ê–°–¢–ù–ò–ö–û–í:
[–†–æ–ª–∏, –≤—Ä–µ–º—è –≥–æ–≤–æ—Ä–µ–Ω–∏—è, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è]

–ó–ê–î–ê–ß–ê:
–û–±—ä–µ–¥–∏–Ω–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –≤—Å–µ—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –≤ –µ–¥–∏–Ω—ã–π —Å–≤—è–∑–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª

–ò–ù–°–¢–†–£–ö–¶–ò–ò:
1. –û–ë–™–ï–î–ò–ù–ï–ù–ò–ï: –°–æ–±–µ—Ä–∏ –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
2. –î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–Ø: –£–¥–∞–ª–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
3. –•–†–û–ù–û–õ–û–ì–ò–Ø: –°–æ—Ö—Ä–∞–Ω–∏ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫
4. –°–í–Ø–ó–ù–û–°–¢–¨: –°–æ–∑–¥–∞–π —Å–≤—è–∑–Ω–æ–µ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
5. –ü–û–õ–ù–û–¢–ê: –í–∫–ª—é—á–∏ –≤—Å—é –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
6. –ö–û–ù–¢–ï–ö–°–¢: –ò—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –æ —Å–ø–∏–∫–µ—Ä–∞—Ö
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ

Chain-of-Thought –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –¥–ª—è:
- –í—Å—Ç—Ä–µ—á –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é **> 30 –º–∏–Ω—É—Ç** (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä–∞ **OpenAI** (–¥–ª—è –¥—Ä—É–≥–∏—Ö - fallback –Ω–∞ –¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø–æ–¥—Ö–æ–¥)

–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
```python
# –ü–æ –¥–∞–Ω–Ω—ã–º –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏
if diarization_data:
    duration_minutes = diarization_data['total_duration'] / 60

# –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–ª–æ–≤
word_count = len(transcription.split())
estimated_minutes = word_count / 150  # 150 —Å–ª–æ–≤/–º–∏–Ω —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```python
# config.py
chain_of_thought_threshold_minutes: int = 30  # –ü–æ—Ä–æ–≥ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (–º–∏–Ω—É—Ç—ã)
max_parallel_segments: Optional[int] = None   # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ (None = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
```

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ —Å–µ–≥–º–µ–Ω—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
- –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `max_parallel_segments` (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3-5) –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API
- –ü–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ rate limits –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ LLM

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- –í—Å—Ç—Ä–µ—á–∞: 45 –º–∏–Ω—É—Ç
- –°–ø–∏–∫–µ—Ä—ã: 4 —á–µ–ª–æ–≤–µ–∫–∞
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: ~6750 —Å–ª–æ–≤

**–ü—Ä–æ—Ü–µ—Å—Å**:
1. **–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è**: 6 —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –ø–æ ~7 –º–∏–Ω—É—Ç
2. **–ê–Ω–∞–ª–∏–∑**: –ö–∞–∂–¥—ã–π —Å–µ–≥–º–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ (~1125 —Å–ª–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å)
3. **–°–∏–Ω—Ç–µ–∑**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ 6 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
- ‚úÖ –í—Å–µ –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ –õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: —Å–µ–≥–º–µ–Ω—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (—É—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ N —Ä–∞–∑, –≥–¥–µ N - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤)
- ‚úÖ **Retry –ª–æ–≥–∏–∫–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö API
- ‚ö†Ô∏è –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (–±–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM)

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ü–æ–ª–Ω–æ—Ç–∞**: –ú–µ–Ω—å—à–µ —É–ø—É—â–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á
2. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è**: –õ—É—á—à–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–π —á–∞—Å—Ç–∏ –≤—Å—Ç—Ä–µ—á–∏
3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**: –ß–µ—Ç–∫–∞—è –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π —Å–µ–≥–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
5. **–°–∫–æ—Ä–æ—Å—Ç—å**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –≤ N —Ä–∞–∑ (–≥–¥–µ N - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤)
6. **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –æ—à–∏–±–∫–∞–º**: Retry –ª–æ–≥–∏–∫–∞ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –ë–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM API (–Ω–æ –±—ã—Å—Ç—Ä–µ–µ)
2. **–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã**: –ü–æ–∫–∞ —Ç–æ–ª—å–∫–æ OpenAI
3. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞**: –ù–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ –¥–ª—è –≤—Å—Ç—Ä–µ—á < 30 –º–∏–Ω—É—Ç
4. **Rate Limits**: –ü—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `max_parallel_segments`

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

Chain-of-Thought –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `OptimizedProcessingService`:

```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
if should_use_chain_of_thought:
    # Chain-of-Thought –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á
    result = generate_protocol_chain_of_thought(...)
elif two_stage_processing:
    # –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è —Å—Ä–µ–¥–Ω–∏—Ö –≤—Å—Ç—Ä–µ—á
    result = generate_protocol_two_stage(...)
else:
    # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤—Å—Ç—Ä–µ—á
    result = generate_protocol(...)
```

### –ú–µ—Ç—Ä–∏–∫–∏

**–û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –≤—Å—Ç—Ä–µ—á > 30 –º–∏–Ω—É—Ç**:
- **+25%** –ø–æ–ª–Ω–æ—Ç—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
- **+30%** –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω–∏–π
- **-40%** –ø–æ—Ç–µ—Ä–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **+15%** —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –∑–∞–¥–∞—á –∏ —Ä–µ—à–µ–Ω–∏–π

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env` –∏–ª–∏ `config.py`:

```python
# –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
TWO_STAGE_PROCESSING=true                    # –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
ENABLE_DIARIZATION_ANALYSIS=true            # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏
ENABLE_TEXT_PREPROCESSING=true               # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
ENABLE_PROTOCOL_VALIDATION=true              # –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
MEETING_TYPE_DETECTION=true                  # –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏
CHAIN_OF_THOUGHT_THRESHOLD_MINUTES=30       # –ü–æ—Ä–æ–≥ –¥–ª—è Chain-of-Thought
MAX_PARALLEL_SEGMENTS=                       # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ (–ø—É—Å—Ç–æ = –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ `MAX_PARALLEL_SEGMENTS`:**
- `–ù–µ –∑–∞–¥–∞–Ω–æ` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, –≤—Å–µ —Å–µ–≥–º–µ–Ω—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- `3-5`: –£–º–µ—Ä–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ API, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
- `1-2`: –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ API

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ `OptimizedProcessingService`:

1. **–ü—Ä–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏**:
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏

2. **–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞**:
   - –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è —Ç–∏–ø –≤—Å—Ç—Ä–µ—á–∏
   - –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–¥–ª—è OpenAI)
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫**:
   - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –ê–Ω–∞–ª–∏–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```python
# –õ–æ–≥–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞
"–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞"
"–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ 28.5%"
"–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏"
"–ê–Ω–∞–ª–∏–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω: 4 —Å–ø–∏–∫–µ—Ä–æ–≤, —Ç–∏–ø –≤—Å—Ç—Ä–µ—á–∏: technical"
"–ò—Å–ø–æ–ª—å–∑—É—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —Ç–∏–ø–∞ –≤—Å—Ç—Ä–µ—á–∏: technical"

# –î–ª—è –≤—Å—Ç—Ä–µ—á >30 –º–∏–Ω—É—Ç - Chain-of-Thought —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
"–ù–∞—á–∞–ª–æ Chain-of-Thought –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è 6 —Å–µ–≥–º–µ–Ω—Ç–æ–≤"
"–≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤"
"–ó–∞–ø—É—Å–∫ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ 6 —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)"
"–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ 1/6"
"–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ 2/6"
# ... –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
"–°–µ–≥–º–µ–Ω—Ç 1 –æ–±—Ä–∞–±–æ—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ"
"–°–µ–≥–º–µ–Ω—Ç 3 –æ–±—Ä–∞–±–æ—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ"
# ...
"–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: —É—Å–ø–µ—à–Ω–æ 6/6, –æ—à–∏–±–æ–∫ 0/6"
"–≠—Ç–∞–ø 2: –°–∏–Ω—Ç–µ–∑ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏–∑ —Å–µ–≥–º–µ–Ω—Ç–æ–≤"
"Chain-of-Thought –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"

# –ò–ª–∏ –¥–ª—è –≤—Å—Ç—Ä–µ—á <30 –º–∏–Ω—É—Ç - –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞"
"–≠—Ç–∞–ø 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"
"–≠—Ç–∞–ø 1 –∑–∞–≤–µ—Ä—à–µ–Ω, –∏–∑–≤–ª–µ—á–µ–Ω–æ 12 –ø–æ–ª–µ–π"
"–≠—Ç–∞–ø 2: –†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏–µ"
"–≠—Ç–∞–ø 2 –∑–∞–≤–µ—Ä—à–µ–Ω, –ø—Ä–æ—Ç–æ–∫–æ–ª —É–ª—É—á—à–µ–Ω"

"–ó–∞–ø—É—Å–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞"
"–í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –æ–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ 0.87, –ø–æ–ª–Ω–æ—Ç–∞ 0.92, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ 0.95"
```

---

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –£–ª—É—á—à–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|----------|
| –¢–æ—á–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è | **+30-40%** | –ú–µ–Ω—å—à–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ |
| –ü–æ–ª–Ω–æ—Ç–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ | **+25%** | –ú–µ–Ω—å—à–µ –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π "–ù–µ —É–∫–∞–∑–∞–Ω–æ" |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ | **+40%** | –ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–ø–∏–∫–µ—Ä–∞—Ö |
| –°–Ω–∏–∂–µ–Ω–∏–µ "–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π" | **-50%** | –ú–µ–Ω—å—à–µ –≤—ã–¥—É–º–∞–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤ |
| –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | **+20%** | –°—É–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ |

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

‚úÖ **–ë–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã**
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è
- –õ–æ–≥–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

‚úÖ **–õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –≤—Å—Ç—Ä–µ—á–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏
- –£—á–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

‚úÖ **–¢–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–ø–∏–∫–µ—Ä–∞—Ö
- –ü—Ä–∏–≤—è–∑–∫–∞ –∑–∞–¥–∞—á –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏

‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**
- –†–æ–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤—Å—Ç—Ä–µ—á–∏
- –í–∫–ª–∞–¥ –∫–∞–∂–¥–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

‚úÖ **–ú–µ–Ω—å—à–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä—É—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
- –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–Ω–∏–∂–∞–µ—Ç –æ—à–∏–±–∫–∏

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ transcription_preprocessor.py    # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ diarization_analyzer.py          # –ê–Ω–∞–ª–∏–∑ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ protocol_validator.py            # –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ meeting_classifier.py            # –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –≤—Å—Ç—Ä–µ—á
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ diarization_analysis.py          # –ú–æ–¥–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ‚îÄ prompts/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ specialized_prompts.py           # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```
OptimizedProcessingService
    ‚Üì
_optimized_transcription()
    ‚Üí TranscriptionPreprocessor (–æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞)
    ‚Üí DiarizationAnalyzer (–∞–Ω–∞–ª–∏–∑ —Å–ø–∏–∫–µ—Ä–æ–≤)
    ‚Üì
_optimized_llm_generation()
    ‚Üí MeetingClassifier (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞)
    ‚Üí generate_protocol_two_stage() (–¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
    ‚Üí ProtocolValidator (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞)
```

---

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### üß† Chain-of-Thought –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á

**–¶–µ–ª—å**: –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Å—Ç—Ä–µ—á >30 –º–∏–Ω—É—Ç

**–ü–æ–¥—Ö–æ–¥**:
- –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –Ω–∞ –±–ª–æ–∫–∏
- –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–Ω–æ–≥–æ —Ä–µ–∑—é–º–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: +15% –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á

#### üí¨ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

**–¶–µ–ª—å**: –°–æ–±–∏—Ä–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- –û—Ü–µ–Ω–∫–∞ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º (–ø–æ–ª–Ω–æ—Ç–∞, —Ç–æ—á–Ω–æ—Å—Ç—å, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- –ê–Ω–∞–ª–∏–∑ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –º–µ–∂–¥—É –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

#### üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¶–µ–ª—å**: –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–æ–º–ø—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —É–ª—É—á—à–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –≤—Å—Ç—Ä–µ—á:

‚úÖ **5 –∏–∑ 8** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã  
‚úÖ **–í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã—Å–æ–∫–æ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞** –∑–∞–≤–µ—Ä—à–µ–Ω—ã  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞  
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≥–∏–±–∫–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏  
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é  

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `docs/PROTOCOL_QUALITY_IMPROVEMENTS.md`  
**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞**: 17 –æ–∫—Ç—è–±—Ä—è 2025

